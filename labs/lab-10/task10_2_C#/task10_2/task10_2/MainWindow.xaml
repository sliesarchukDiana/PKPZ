<Window x:Class="GraphMatrices.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Граф — матриці суміжності та інцидентності" Height="600" Width="850">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="160"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" Grid.Row="0" VerticalAlignment="Top" Margin="0 0 0 8">
            <TextBlock VerticalAlignment="Center" Text="Ребра (формат: a->b; b->a; ...):" Margin="0 0 8 0"/>
            <TextBox x:Name="TxtEdges" Width="520" Height="26" VerticalContentAlignment="Center"/>
            <Button x:Name="BtnParse" Content="Розібрати і побудувати" Width="150" Margin="8 0 0 0" Click="BtnParse_Click"/>
            <Button x:Name="BtnClear" Content="Очистити" Width="90" Margin="8 0 0 0" Click="BtnClear_Click"/>
        </StackPanel>

        <GroupBox Header="Вхідні дані / Пояснення" Grid.Row="1" Margin="0 0 0 8">
            <Grid>
                <TextBlock Margin="8" TextWrapping="Wrap">
                    Ребра можна розділяти крапкою з комою (`;`) або переносом рядка.  
                    Пояснення: матриця суміжності — A[i,j]=1 якщо існує ребро i->j.  
                    Матриця інцидентності — стовпці відповідають ребрам; для ребра u->v: -1 у рядку u (джерело), +1 у рядку v (приймач).
                </TextBlock>
            </Grid>
        </GroupBox>

        <StackPanel Orientation="Horizontal" Grid.Row="2" Margin="0 0 0 8">
            <GroupBox Header="Матриця суміжності" Width="410" Margin="0 0 8 0">
                <DataGrid x:Name="GridAdj" IsReadOnly="True" AutoGenerateColumns="True" CanUserAddRows="False"
                          HeadersVisibility="All" />
            </GroupBox>

            <GroupBox Header="Матриця інцидентності" Width="410">
                <DataGrid x:Name="GridInc" IsReadOnly="True" AutoGenerateColumns="True" CanUserAddRows="False"
                          HeadersVisibility="All" />
            </GroupBox>
        </StackPanel>

        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Left" >
            <StackPanel>
                <TextBlock Text="Вершини (в алфавітному порядку):" FontWeight="Bold" Margin="0 0 0 6"/>
                <TextBox x:Name="TxtVertices" Width="240" Height="200" IsReadOnly="True" TextWrapping="Wrap"/>
            </StackPanel>

            <StackPanel Margin="20 0 0 0">
                <TextBlock Text="Ребра (розібрані, у порядку):" FontWeight="Bold" Margin="0 0 0 6"/>
                <TextBox x:Name="TxtEdgesParsed" Width="360" Height="200" IsReadOnly="True" TextWrapping="Wrap"/>
            </StackPanel>

            <StackPanel Margin="20 0 0 0" VerticalAlignment="Top">
                <Button Content="Зберегти матрицю суміжності (CSV)" Width="220" Click="BtnSaveAdj_Click" Margin="0 0 0 8"/>
                <Button Content="Зберегти матрицю інцидентності (CSV)" Width="220" Click="BtnSaveInc_Click" Margin="0 0 8 0"/>
                <Button Content="Експортувати обидві матриці у CSV" Width="220" Click="BtnSaveBoth_Click"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>
